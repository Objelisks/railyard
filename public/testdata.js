import { make3dTrack } from './primitives/track.js'
import { makeTrain } from './primitives/train.js'
import { addTrack, getTracks, addTrain, addObject } from './railyard.js'
import { placeTrainOnTrack, detectAndFixTurnouts } from './railyardhelpers.js'
import { loadToTrackBush } from './raycast.js'

export const initializeTestData = () => {

    addTrack(make3dTrack([1.0282797780363886,-2.9675659814693134],[-3.8698044568453014,-2.7839517376427345],[-9.206020133484655,-3.1168909354537284],[-15.149739911732807,-3.075059624692784]))
    addTrack(make3dTrack([-15.149739911732807,-3.075059624692784],[-20.42829294575303,-3.037909691557931],[-21.208377435544804,1.6907666095713498],[-20.70738362946325,4.293274922615918]))
    addTrack(make3dTrack([-20.70738362946325,4.293274922615918],[-19.393868763719826,11.116579554147485],[-19.827549376306564,10.756294694434974],[-16.528722693710677,15.600196380050832]))
    addTrack(make3dTrack([-16.528722693710677,15.600196380050832],[-12.909355343355799,20.914770710900783],[-8.107506499458417,21.23691203984],[-2.237566763242782,21.10154694022048]))
    addTrack(make3dTrack([-2.237566763242782,21.10154694022048],[5.0962436223431355,20.93242391374193],[7.504726198844949,20.702442307187418],[12.911459842473828,20.60376367752683]))
    addTrack(make3dTrack([12.911459842473828,20.60376367752683],[20.11681638811426,20.472258270195066],[20.463393644914685,17.793450678606696],[20.558646428395896,11.939973649005548]))
    addTrack(make3dTrack([20.558646428395896,11.939973649005548],[20.604535679908434,9.119985929830815],[21.21207038844019,0.5023614925693884],[20.84791596079646,-5.851039946467573]))
    addTrack(make3dTrack([20.84791596079646,-5.851039946467573],[20.56909879763904,-10.71556233356224],[18.518330908260033,-10.991386594004474],[12.318623898577052,-10.75702141160938]))
    addTrack(make3dTrack([12.318623898577052,-10.75702141160938],[10.339172111903288,-10.682192943376682],[9.11682093761111,-8.206892530530851],[7.452010750490995,-5.6917680242563655]))
    addTrack(make3dTrack([7.452010750490995,-5.6917680242563655],[6.187532103999157,-3.781447402688138],[4.963589969675456,-3.1150887618892567],[1.0282797780363886,-2.9675659814693134]))
    addTrack(make3dTrack([12.318623898577052,-10.75702141160938],[7.206960484919836,-10.563787130309791],[5.352027806074798,-12.002975579235372],[-0.7035811983451019,-11.89510800351757]))
    addTrack(make3dTrack([-0.7035811983451019,-11.89510800351757],[-4.469997226893541,-11.828017448984136],[-7.864840167136183,-11.881062199932103],[-14.733568037756239,-11.611295912715985]))
    addTrack(make3dTrack([-2.237566763242782,21.10154694022048],[-0.09452418996903367,21.052126812509407],[2.1488791912326413,19.91608199847097],[3.9566058442842262,18.458494053057024]))
    addTrack(make3dTrack([3.9566058442842262,18.458494053057024],[6.582311947552313,16.341361156961934],[7.366991807213164,14.052395867487073],[6.90772662202696,10.55740718083559]))
    addTrack(make3dTrack([6.90772662202696,10.55740718083559],[6.572623724093274,8.00728826279151],[5.493036222241663,3.889776805480281],[-5.298307903828139,5.179569844987682]))
    addTrack(make3dTrack([-5.298307903828139,5.179569844987682],[-10.947312805603634,5.854744977699051],[-13.210264918724853,6.708993332248667],[-14.532186704115723,10.097915024864104]))
    addTrack(make3dTrack([-14.532186704115723,10.097915024864104],[-15.387624915970711,12.290944253132961],[-17.329277183679768,14.424685322180668],[-16.528722693710677,15.600196380050832]))
    addObject({"name":"train house","zoom":4,"position":[-12.926740736187107,-3.552713678800501e-15,-13.479472951056277],"rotation":3.1415926535897927})
    addObject({"name":"station platform","zoom":4,"position":[-8.722911403477049,3.552713678800501e-15,-6.087379619067221],"rotation":-1.5707963267948961})
    addObject({"name":"tunnel","zoom":3,"position":[19.93834134473964,0,3.5858336992336604],"rotation":1.5707963267948966})
    addObject({"name":"small rock","zoom":1.5,"position":[-9.559784259758743,0,13.586830420405207],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[-6.488504025816937,0,10.04199815255204],"rotation":1.5707963267948966})
    addObject({"name":"small rock","zoom":1.5,"position":[-2.5331922860913636,0,15.898701932151642],"rotation":-2.617993877991494})
    addObject({"name":"small rock","zoom":1.5,"position":[-0.9075520783607232,0,10.78974661311485],"rotation":2.0943951023931953})
    addObject({"name":"small rock","zoom":1.5,"position":[9.251921535994285,0,-14.212836830831977],"rotation":2.617993877991494})
    addObject({"name":"small rock","zoom":1.5,"position":[13.94847507493546,0,-14.184546290874714],"rotation":-2.0943951023931953})
    addObject({"name":"small rock","zoom":1.5,"position":[18.438462743346726,0,-14.037212811361465],"rotation":1.0471975511965976})
    addObject({"name":"tunnel","zoom":3,"position":[13.457128974054166,3.552713678800501e-15,-16.909691901552673],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[19.99214340612799,0,-16.076131353375025],"rotation":4.1887902047863905})
    addObject({"name":"small rock","zoom":1.5,"position":[19.889281073206718,0,-17.86963601436681],"rotation":-2.094395102393195})
    addObject({"name":"small rock","zoom":1.5,"position":[6.859962385775653,0,-16.460575660203475],"rotation":4.71238898038469})
    addObject({"name":"small rock","zoom":1.5,"position":[6.252787812183536,0,-17.966225833330444],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[12.011704315978147,3.552713678800501e-15,-13.400255701481761],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[15.655489908474323,-3.552713678800501e-15,5.019047648799852],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[15.473252765704279,0,0.8094539999398229],"rotation":-1.5707963267948966})


    // initialize railyard state
    // addTrack(make3dTrack([0, 5], [1, 5], [3, 5], [4, 5]))
    // addTrack(
    //     make3dTrack(
    //         [-1.5212394986608633, 6.52423288025723],
    //         [2.893530308020223, 6.583755827756361],
    //         [4.072092403155035, 5.70237689801801],
    //         [6.269056365087525, 2.499212173005982]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [6.269056365087525, 2.499212173005982],
    //         [7.827018315881437, 0.22770984062164468],
    //         [7.874056816504318, -1.5243083714642491],
    //         [5.753726163243674, -4.7078036330036515]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [5.753726163243674, -4.7078036330036515],
    //         [3.170369268109507, -8.586493224118952],
    //         [2.489274181964973, -9.633304998149242],
    //         [1.4018238847414608, -13.537345679516598]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [1.4018238847414608, -13.537345679516598],
    //         [-2.072850802011587, -26.01172852371301],
    //         [-5.084728168841313, -25.25316713776727],
    //         [-6.973599160201271, -23.602191550510433]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-6.973599160201271, -23.602191550510433],
    //         [-10.669378368154819, -20.37188028196285],
    //         [-10.00932208729014, -16.761344649340895],
    //         [-7.163600071560495, -12.13800995845753]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-7.163600071560495, -12.13800995845753],
    //         [-3.8877424678271777, -6.815850584485436],
    //         [-3.649980979723612, -5.480705480642484],
    //         [-6.069653039512652, -2.764313112114559]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-6.069653039512652, -2.764313112114559],
    //         [-8.556983621791833, 0.028034629545260703],
    //         [-9.373416936412468, 1.024109559189741],
    //         [-8.988862544051113, 3.06086885710051]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-8.988862544051113, 3.06086885710051],
    //         [-8.448349063201698, 5.923652067054527],
    //         [-5.438053028990151, 6.4714237200204145],
    //         [-1.5212394986608633, 6.52423288025723]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [5.753726163243674, -4.7078036330036515],
    //         [3.0261235183497806, -8.803065889401662],
    //         [1.2330483601914768, -8.377079176375752],
    //         [-0.06416898140664529, -7.442568143863863]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-6.069653039512652, -2.764313112114559],
    //         [-3.600352336669205, -5.536420000594887],
    //         [-1.6006070649634374, -6.33572328925656],
    //         [-0.06416898140664529, -7.442568143863863]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-1.5212394986608633, 6.52423288025723],
    //         [1.0454745150757216, 6.558839074957058],
    //         [1.7709706695293512, 5.455190781066316],
    //         [2.548408045286844, 4.64394587035218]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [2.548408045286844, 4.64394587035218],
    //         [4.191371561167776, 2.929536668647982],
    //         [3.93324328128526, 1.9335679981352563],
    //         [2.183996395900957, 0.7014740697043749]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [2.183996395900957, 0.7014740697043749],
    //         [0.392142488992957, -0.5606304038167944],
    //         [-1.1844046200627467, 0.9779685466192962],
    //         [-2.0947999149356615, 2.9208035980043867]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-2.0947999149356615, 2.9208035980043867],
    //         [-3.520926002794468, 5.964237331450426],
    //         [-8.51545673129992, 5.568222068918594],
    //         [-8.988862544051113, 3.06086885710051]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-8.988862544051113, 3.06086885710051],
    //         [-9.650918986784037, -0.4456562073978003],
    //         [-10.374701678987527, -0.4183260754123239],
    //         [-12.795664698950219, -1.527881620780093]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-12.795664698950219, -1.527881620780093],
    //         [-14.465751583424934, -2.2933018889275414],
    //         [-14.015150306080088, -4.203356856055606],
    //         [-16.120564348151643, -5.500092225071322]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-16.120564348151643, -5.500092225071322],
    //         [-21.39425171460013, -8.748183477695674],
    //         [-23.012337708762566, -9.282737100960293],
    //         [-23.772916318378087, -6.802874392333617]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-23.772916318378087, -6.802874392333617],
    //         [-24.61171166387374, -4.067986412094722],
    //         [-22.07061041641694, -2.4827043931472943],
    //         [-19.757712335507918, -1.8629442377150482]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-19.757712335507918, -1.8629442377150482],
    //         [-17.646704774389928, -1.2972823155593893],
    //         [-16.382977259914764, -3.1719887435097087],
    //         [-12.795664698950219, -1.527881620780093]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-16.120564348151643, -5.500092225071322],
    //         [-19.26121450578462, -7.434434857791851],
    //         [-19.342316185350533, -9.606542763028937],
    //         [-17.670376517211302, -10.607674055102791]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-17.670376517211302, -10.607674055102791],
    //         [-14.963213316246009, -12.228680987878956],
    //         [-15.305277579085196, -12.101755430438914],
    //         [-12.684738499578149, -13.669464582143522]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-12.684738499578149, -13.669464582143522],
    //         [-8.553739756645378, -16.14078988525413],
    //         [-7.459514397155353, -15.770755295400175],
    //         [-4.8570301240048845, -14.444579906013143]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-4.8570301240048845, -14.444579906013143],
    //         [-2.29199355949104, -13.137487140907528],
    //         [-1.0126961039602698, -9.888930023377451],
    //         [1.0674397909327045, -5.467034644968415]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [1.0674397909327045, -5.467034644968415],
    //         [2.843828234877943, -1.6908372004525019],
    //         [2.4591867273867356, -1.036280443693272],
    //         [-1.6532493551555927, 0.27466308498260794]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [-1.6532493551555927, 0.27466308498260794],
    //         [-5.321320352625179, 1.4439539481937178],
    //         [-7.780588281584277, -0.843568763389037],
    //         [-6.069653039512652, -2.764313112114559]
    //     )
    // )
    // addTrack(
    //     make3dTrack(
    //         [2.183996395900957, 0.7014740697043749],
    //         [0.8051060805168604, -0.26975669237506816],
    //         [-0.8263318993270284, 0.01106212785905819],
    //         [-1.6532493551555927, 0.27466308498260794]
    //     )
    // )

    detectAndFixTurnouts()
    loadToTrackBush(getTracks())

    let train = makeTrain({ powered: true, type: 'berkshire' })
    placeTrainOnTrack(train, getTracks()[1])
    addTrain(train)
    train = makeTrain({ type: 'p42' })
    placeTrainOnTrack(train, getTracks()[2])
    addTrain(train)
    train = makeTrain({ type: 'p42' })
    placeTrainOnTrack(train, getTracks()[3])
    addTrain(train)
    train = makeTrain({ type: 'p42' })
    placeTrainOnTrack(train, getTracks()[4])
    addTrain(train)
    train = makeTrain({ type: 'x36' })
    placeTrainOnTrack(train, getTracks()[5])
    addTrain(train)
}
