import { make3dTrack } from './primitives/track.js'
import { makeTrain } from './primitives/train.js'
import { addTrack, getTracks, addTrain, addObject } from './railyard.js'
import { placeTrainOnTrack, detectAndFixTurnouts } from './railyardhelpers.js'
import { loadToTrackBush } from './raycast.js'

export const initializeTestData = () => {

    addTrack(make3dTrack([1.0282797780363886,-2.9675659814693134],[-3.8698044568453014,-2.7839517376427345],[-9.206020133484655,-3.1168909354537284],[-15.149739911732807,-3.075059624692784]))
    addTrack(make3dTrack([-15.149739911732807,-3.075059624692784],[-20.42829294575303,-3.037909691557931],[-21.208377435544804,1.6907666095713498],[-20.70738362946325,4.293274922615918]))
    addTrack(make3dTrack([-20.70738362946325,4.293274922615918],[-19.393868763719826,11.116579554147485],[-19.827549376306564,10.756294694434974],[-16.528722693710677,15.600196380050832]))
    addTrack(make3dTrack([-16.528722693710677,15.600196380050832],[-12.909355343355799,20.914770710900783],[-8.107506499458417,21.23691203984],[-2.237566763242782,21.10154694022048]))
    addTrack(make3dTrack([-2.237566763242782,21.10154694022048],[5.0962436223431355,20.93242391374193],[7.504726198844949,20.702442307187418],[12.911459842473828,20.60376367752683]))
    addTrack(make3dTrack([12.911459842473828,20.60376367752683],[20.11681638811426,20.472258270195066],[20.463393644914685,17.793450678606696],[20.558646428395896,11.939973649005548]))
    addTrack(make3dTrack([20.558646428395896,11.939973649005548],[20.604535679908434,9.119985929830815],[21.21207038844019,0.5023614925693884],[20.84791596079646,-5.851039946467573]))
    addTrack(make3dTrack([20.84791596079646,-5.851039946467573],[20.56909879763904,-10.71556233356224],[18.518330908260033,-10.991386594004474],[12.318623898577052,-10.75702141160938]))
    addTrack(make3dTrack([12.318623898577052,-10.75702141160938],[10.339172111903288,-10.682192943376682],[9.11682093761111,-8.206892530530851],[7.452010750490995,-5.6917680242563655]))
    addTrack(make3dTrack([7.452010750490995,-5.6917680242563655],[6.187532103999157,-3.781447402688138],[4.963589969675456,-3.1150887618892567],[1.0282797780363886,-2.9675659814693134]))
    addTrack(make3dTrack([12.318623898577052,-10.75702141160938],[7.206960484919836,-10.563787130309791],[5.352027806074798,-12.002975579235372],[-0.7035811983451019,-11.89510800351757]))
    addTrack(make3dTrack([-0.7035811983451019,-11.89510800351757],[-4.469997226893541,-11.828017448984136],[-7.864840167136183,-11.881062199932103],[-14.733568037756239,-11.611295912715985]))
    addTrack(make3dTrack([-2.237566763242782,21.10154694022048],[-0.09452418996903367,21.052126812509407],[2.1488791912326413,19.91608199847097],[3.9566058442842262,18.458494053057024]))
    addTrack(make3dTrack([3.9566058442842262,18.458494053057024],[6.582311947552313,16.341361156961934],[7.366991807213164,14.052395867487073],[6.90772662202696,10.55740718083559]))
    addTrack(make3dTrack([6.90772662202696,10.55740718083559],[6.572623724093274,8.00728826279151],[5.493036222241663,3.889776805480281],[-5.298307903828139,5.179569844987682]))
    addTrack(make3dTrack([-5.298307903828139,5.179569844987682],[-10.947312805603634,5.854744977699051],[-13.210264918724853,6.708993332248667],[-14.532186704115723,10.097915024864104]))
    addTrack(make3dTrack([-14.532186704115723,10.097915024864104],[-15.387624915970711,12.290944253132961],[-17.329277183679768,14.424685322180668],[-16.528722693710677,15.600196380050832]))
    addObject({"name":"train house","zoom":4,"position":[-12.926740736187107,-3.552713678800501e-15,-13.479472951056277],"rotation":3.1415926535897927})
    addObject({"name":"station platform","zoom":4,"position":[-8.722911403477049,3.552713678800501e-15,-6.087379619067221],"rotation":-1.5707963267948961})
    addObject({"name":"tunnel","zoom":3,"position":[20.93834134473964,0,3.5858336992336604],"rotation":1.5707963267948966})
    addObject({"name":"small rock","zoom":1.5,"position":[-9.559784259758743,0,13.586830420405207],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[-6.488504025816937,0,10.04199815255204],"rotation":1.5707963267948966})
    addObject({"name":"small rock","zoom":1.5,"position":[-2.5331922860913636,0,15.898701932151642],"rotation":-2.617993877991494})
    addObject({"name":"small rock","zoom":1.5,"position":[-0.9075520783607232,0,10.78974661311485],"rotation":2.0943951023931953})
    addObject({"name":"small rock","zoom":1.5,"position":[9.251921535994285,0,-14.212836830831977],"rotation":2.617993877991494})
    addObject({"name":"small rock","zoom":1.5,"position":[13.94847507493546,0,-14.184546290874714],"rotation":-2.0943951023931953})
    addObject({"name":"small rock","zoom":1.5,"position":[18.438462743346726,0,-14.037212811361465],"rotation":1.0471975511965976})
    addObject({"name":"tunnel","zoom":3,"position":[13.457128974054166,3.552713678800501e-15,-16.909691901552673],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[19.99214340612799,0,-16.076131353375025],"rotation":4.1887902047863905})
    addObject({"name":"small rock","zoom":1.5,"position":[19.889281073206718,0,-17.86963601436681],"rotation":-2.094395102393195})
    addObject({"name":"small rock","zoom":1.5,"position":[6.859962385775653,0,-16.460575660203475],"rotation":4.71238898038469})
    addObject({"name":"small rock","zoom":1.5,"position":[6.252787812183536,0,-17.966225833330444],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[12.011704315978147,3.552713678800501e-15,-13.400255701481761],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[15.655489908474323,-3.552713678800501e-15,5.019047648799852],"rotation":0})
    addObject({"name":"small rock","zoom":1.5,"position":[15.473252765704279,0,0.8094539999398229],"rotation":-1.5707963267948966})

    detectAndFixTurnouts()
    loadToTrackBush(getTracks())

    let train = makeTrain({ powered: true, type: 'berkshire' })
    placeTrainOnTrack(train, getTracks()[1])
    addTrain(train)
    train = makeTrain({ type: 'p42' })
    placeTrainOnTrack(train, getTracks()[2])
    addTrain(train)
    train = makeTrain({ type: 'p42' })
    placeTrainOnTrack(train, getTracks()[3])
    addTrain(train)
    train = makeTrain({ type: 'p42' })
    placeTrainOnTrack(train, getTracks()[4])
    addTrain(train)
    train = makeTrain({ type: 'x36' })
    placeTrainOnTrack(train, getTracks()[5])
    addTrain(train)
}
